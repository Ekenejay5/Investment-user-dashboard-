<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KYC Verification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#001f3f', // Matching the navy blue from other pages
                        'primary-dark': '#00152e',
                    }
                }
            }
        }
    </script>
    <style>
        .file-input-preview {
            display: none;
            max-width: 100px;
            max-height: 100px;
            margin-top: 8px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
        }
        
        /* Mobile sidebar toggle */
        .mobile-sidebar {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 40;
        }
        
        .mobile-sidebar-content {
            width: 80%;
            max-width: 300px;
            height: 100%;
            background-color: #001f3f;
            overflow-y: auto;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Mobile Sidebar Overlay -->
    <div id="mobileSidebar" class="mobile-sidebar">
        <div class="mobile-sidebar-content">
            <div class="flex items-center justify-between h-16 px-4 bg-primary-dark">
                <h1 class="text-xl font-bold text-white">InvestmentPro</h1>
                <button id="closeMobileSidebar" class="text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="px-4 py-4">
                <nav class="space-y-2">
                    <a href="dashboard.html" class="flex items-center px-4 py-2 text-sm rounded-lg text-white hover:bg-primary-dark">
                        <i class="fas fa-tachometer-alt mr-3"></i> Dashboard
                    </a>
                    <a href="deposit.html" class="flex items-center px-4 py-2 text-sm rounded-lg text-white hover:bg-primary-dark">
                        <i class="fas fa-money-bill-wave mr-3"></i> Deposit
                    </a>
                    <a href="withdrawal.html" class="flex items-center px-4 py-2 text-sm rounded-lg text-white hover:bg-primary-dark">
                        <i class="fas fa-arrow-up mr-3"></i> Withdrawal
                    </a>
                    <a href="plans.html" class="flex items-center px-4 py-2 text-sm rounded-lg text-white hover:bg-primary-dark">
                        <i class="fas fa-chart-line mr-3"></i> Plans
                    </a>
                    <a href="history.html" class="flex items-center px-4 py-2 text-sm rounded-lg text-white hover:bg-primary-dark">
                        <i class="fas fa-history mr-3"></i> History
                    </a>
                    <a href="referral.html" class="flex items-center px-4 py-2 text-sm rounded-lg text-white hover:bg-primary-dark">
                        <i class="fas fa-users mr-3"></i> Referral
                    </a>
                    <a href="support.html" class="flex items-center px-4 py-2 text-sm rounded-lg text-white hover:bg-primary-dark">
                        <i class="fas fa-headset mr-3"></i> Support
                    </a>
                    <a href="notifications.html" class="flex items-center px-4 py-2 text-sm rounded-lg text-white hover:bg-primary-dark">
                        <i class="fas fa-bell mr-3"></i> Notifications
                    </a>
                    <a href="settings.html" class="flex items-center px-4 py-2 text-sm rounded-lg text-white hover:bg-primary-dark">
                        <i class="fas fa-cog mr-3"></i> Settings
                    </a>
                    <a href="kyc.html" class="flex items-center px-4 py-2 text-sm rounded-lg bg-primary-dark text-white">
                        <i class="fas fa-id-card mr-3"></i> KYC Verification
                    </a>
                </nav>
            </div>
        </div>
    </div>

    <div class="flex h-screen">
        <!-- Desktop Sidebar -->
        <div class="hidden md:flex md:flex-shrink-0">
            <div class="flex flex-col w-64 bg-primary text-white">
                <div class="flex items-center justify-center h-16 px-4 bg-primary-dark">
                    <h1 class="text-xl font-bold">InvestmentPro</h1>
                </div>
                <div class="flex flex-col flex-grow px-4 py-4 overflow-y-auto">
                    <nav class="flex-1 space-y-2">
                        <a href="dashboard.html" class="flex items-center px-4 py-2 text-sm rounded-lg hover:bg-primary-dark">
                            <i class="fas fa-tachometer-alt mr-3"></i> Dashboard
                        </a>
                        <a href="deposit.html" class="flex items-center px-4 py-2 text-sm rounded-lg hover:bg-primary-dark">
                            <i class="fas fa-money-bill-wave mr-3"></i> Deposit
                        </a>
                        <a href="withdrawal.html" class="flex items-center px-4 py-2 text-sm rounded-lg hover:bg-primary-dark">
                            <i class="fas fa-arrow-up mr-3"></i> Withdrawal
                        </a>
                        <a href="plans.html" class="flex items-center px-4 py-2 text-sm rounded-lg hover:bg-primary-dark">
                            <i class="fas fa-chart-line mr-3"></i> Plans
                        </a>
                        <a href="history.html" class="flex items-center px-4 py-2 text-sm rounded-lg hover:bg-primary-dark">
                            <i class="fas fa-history mr-3"></i> History
                        </a>
                        <a href="referral.html" class="flex items-center px-4 py-2 text-sm rounded-lg hover:bg-primary-dark">
                            <i class="fas fa-users mr-3"></i> Referral
                        </a>
                        <a href="support.html" class="flex items-center px-4 py-2 text-sm rounded-lg hover:bg-primary-dark">
                            <i class="fas fa-headset mr-3"></i> Support
                        </a>
                        <a href="notifications.html" class="flex items-center px-4 py-2 text-sm rounded-lg hover:bg-primary-dark">
                            <i class="fas fa-bell mr-3"></i> Notifications
                        </a>
                        <a href="settings.html" class="flex items-center px-4 py-2 text-sm rounded-lg hover:bg-primary-dark">
                            <i class="fas fa-cog mr-3"></i> Settings
                        </a>
                        <a href="kyc.html" class="flex items-center px-4 py-2 text-sm rounded-lg bg-primary-dark">
                            <i class="fas fa-id-card mr-3"></i> KYC Verification
                        </a>
                    </nav>
                </div>
            </div>
        </div>

        <!-- Main content -->
        <div class="flex flex-col flex-1 overflow-hidden">
            <!-- Header -->
            <header class="flex items-center justify-between h-16 px-4 bg-white border-b">
                <div class="flex items-center">
                    <button id="mobileMenuButton" class="md:hidden p-2 rounded-lg text-primary">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h2 class="ml-2 text-lg font-semibold text-gray-800">KYC Verification</h2>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <a href="notifications.html" class="p-2 rounded-full text-gray-600 hover:bg-gray-100">
                            <i class="fas fa-bell"></i>
                        </a>
                        <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>
                    </div>
                    <div class="flex items-center">
                        <img src="https://via.placeholder.com/32" alt="User" class="w-8 h-8 rounded-full">
                        <span class="ml-2 text-sm font-medium text-gray-700">John Doe</span>
                    </div>
                </div>
            </header>

            <!-- Content -->
            <main class="flex-1 overflow-y-auto p-4 bg-gray-50">
                <div class="max-w-4xl mx-auto">
                    <!-- Status Card -->
                    <div id="statusCard" class="mb-6 p-4 rounded-lg bg-yellow-100 border-l-4 border-yellow-500">
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <i class="fas fa-clock text-yellow-600"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-yellow-700">
                                    <span class="font-semibold">Status: Pending Review</span>
                                    <span id="rejectionReason" class="hidden"></span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- KYC Form Card -->
                    <div id="kycFormCard" class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="p-6 border-b">
                            <h3 class="text-lg font-medium text-gray-900">KYC Verification</h3>
                        </div>
                        <div class="p-6">
                            <form id="kycForm">
                                <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
                                    <!-- Full Name -->
                                    <div class="sm:col-span-3">
                                        <label for="fullName" class="block text-sm font-medium text-gray-700">Full Name</label>
                                        <div class="mt-1">
                                            <input type="text" name="fullName" id="fullName" value="John Doe" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm" readonly>
                                        </div>
                                    </div>

                                    <!-- Date of Birth -->
                                    <div class="sm:col-span-3">
                                        <label for="dob" class="block text-sm font-medium text-gray-700">Date of Birth</label>
                                        <div class="mt-1">
                                            <input type="date" name="dob" id="dob" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                        </div>
                                    </div>

                                    <!-- Address -->
                                    <div class="sm:col-span-6">
                                        <label for="address" class="block text-sm font-medium text-gray-700">Address</label>
                                        <div class="mt-1">
                                            <input type="text" name="address" id="address" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                        </div>
                                    </div>

                                    <!-- ID Type -->
                                    <div class="sm:col-span-3">
                                        <label for="idType" class="block text-sm font-medium text-gray-700">ID Type</label>
                                        <div class="mt-1">
                                            <select id="idType" name="idType" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                                <option value="">Select ID Type</option>
                                                <option value="passport">Passport</option>
                                                <option value="national_id">National ID</option>
                                                <option value="driver_license">Driver's License</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- ID Number -->
                                    <div class="sm:col-span-3">
                                        <label for="idNumber" class="block text-sm font-medium text-gray-700">ID Number</label>
                                        <div class="mt-1">
                                            <input type="text" name="idNumber" id="idNumber" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm">
                                        </div>
                                    </div>

                                    <!-- Upload ID Front -->
                                    <div class="sm:col-span-3">
                                        <label for="idFront" class="block text-sm font-medium text-gray-700">Upload ID Front</label>
                                        <div class="mt-1">
                                            <input type="file" name="idFront" id="idFront" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-dark">
                                            <img id="idFrontPreview" class="file-input-preview" src="#" alt="ID Front Preview">
                                        </div>
                                    </div>

                                    <!-- Upload ID Back -->
                                    <div class="sm:col-span-3">
                                        <label for="idBack" class="block text-sm font-medium text-gray-700">Upload ID Back (Optional)</label>
                                        <div class="mt-1">
                                            <input type="file" name="idBack" id="idBack" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-dark">
                                            <img id="idBackPreview" class="file-input-preview" src="#" alt="ID Back Preview">
                                        </div>
                                    </div>

                                    <!-- Upload Selfie with ID -->
                                    <div class="sm:col-span-6">
                                        <label for="selfie" class="block text-sm font-medium text-gray-700">Upload Selfie with ID</label>
                                        <div class="mt-1">
                                            <input type="file" name="selfie" id="selfie" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-dark">
                                            <img id="selfiePreview" class="file-input-preview" src="#" alt="Selfie Preview">
                                        </div>
                                        <p class="mt-1 text-xs text-gray-500">Please take a clear selfie while holding your ID next to your face</p>
                                    </div>
                                </div>

                                <div class="mt-8 flex justify-end">
                                    <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                                        Submit Verification
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Approved Message (Hidden by default) -->
                    <div id="approvedMessage" class="hidden bg-white rounded-lg shadow-sm overflow-hidden">
                        <div class="p-6 border-b bg-green-100 border-l-4 border-green-500">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-600"></i>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-lg font-medium text-green-800">Your KYC has been approved</h3>
                                    <p class="mt-1 text-sm text-green-700">Thank you for completing the verification process. You now have full access to all platform features.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // File preview functionality
        function readURL(input, previewId) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                const previewElement = document.getElementById(previewId);

                reader.onload = function(e) {
                    previewElement.src = e.target.result;
                    previewElement.style.display = 'block';
                }

                reader.readAsDataURL(input.files[0]);
            }
        }

        document.getElementById('idFront').addEventListener('change', function() {
            readURL(this, 'idFrontPreview');
        });

        document.getElementById('idBack').addEventListener('change', function() {
            readURL(this, 'idBackPreview');
        });

        document.getElementById('selfie').addEventListener('change', function() {
            readURL(this, 'selfiePreview');
        });

        // Mobile sidebar toggle
        document.getElementById('mobileMenuButton').addEventListener('click', function() {
            document.getElementById('mobileSidebar').style.display = 'flex';
        });

        document.getElementById('closeMobileSidebar').addEventListener('click', function() {
            document.getElementById('mobileSidebar').style.display = 'none';
        });

        // Close mobile sidebar when clicking outside
        document.getElementById('mobileSidebar').addEventListener('click', function(e) {
            if (e.target === this) {
                this.style.display = 'none';
            }
        });

        // Status handling (for demo purposes)
        const status = "not_submitted"; // Change to "not_submitted", "pending", "approved", or "rejected" to see different states

        document.addEventListener('DOMContentLoaded', function() {
            const statusCard = document.getElementById('statusCard');
            const kycFormCard = document.getElementById('kycFormCard');
            const approvedMessage = document.getElementById('approvedMessage');
            const rejectionReason = document.getElementById('rejectionReason');
            const kycForm = document.getElementById('kycForm');

            switch(status) {
                case "not_submitted":
                    statusCard.className = "mb-6 p-4 rounded-lg bg-gray-100 border-l-4 border-gray-500";
                    statusCard.innerHTML = `
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <i class="fas fa-info-circle text-gray-600"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-gray-700">
                                    <span class="font-semibold">Status: Not Submitted</span>
                                </p>
                            </div>
                        </div>
                    `;
                    break;
                case "pending":
                    statusCard.className = "mb-6 p-4 rounded-lg bg-yellow-100 border-l-4 border-yellow-500";
                    statusCard.innerHTML = `
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <i class="fas fa-clock text-yellow-600"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-yellow-700">
                                    <span class="font-semibold">Status: Pending Review</span>
                                </p>
                            </div>
                        </div>
                    `;
                    // Disable form if pending
                    Array.from(kycForm.elements).forEach(element => {
                        element.disabled = true;
                    });
                    document.querySelector('button[type="submit"]').textContent = "Under Review";
                    document.querySelector('button[type="submit"]').className = "inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-500 cursor-not-allowed";
                    break;
                case "approved":
                    statusCard.className = "mb-6 p-4 rounded-lg bg-green-100 border-l-4 border-green-500";
                    statusCard.innerHTML = `
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <i class="fas fa-check-circle text-green-600"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-green-700">
                                    <span class="font-semibold">Status: Approved</span>
                                </p>
                            </div>
                        </div>
                    `;
                    kycFormCard.style.display = "none";
                    approvedMessage.style.display = "block";
                    break;
                case "rejected":
                    statusCard.className = "mb-6 p-4 rounded-lg bg-red-100 border-l-4 border-red-500";
                    statusCard.innerHTML = `
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <i class="fas fa-times-circle text-red-600"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-red-700">
                                    <span class="font-semibold">Status: Rejected</span>
                                </p>
                            </div>
                        </div>
                    `;
                    rejectionReason.textContent = " - Reason: The uploaded documents were blurry and unreadable. Please upload clear photos and try again.";
                    rejectionReason.style.display = "inline";
                    break;
            }

            // Form submission
            kycForm.addEventListener('submit', function(e) {
                e.preventDefault();
                alert("KYC verification submitted successfully! Your documents are under review.");
                // In a real app, you would send the form data to your backend here
            });
        });
    </script>
</body>
</html>